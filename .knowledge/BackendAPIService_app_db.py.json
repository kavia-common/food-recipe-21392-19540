{"is_source_file": true, "format": "Python", "description": "This file sets up database configurations, manages SQLAlchemy engine and session creation, and provides utility functions for initializing the database and obtaining sessions, including importing models for table creation.", "external_files": ["./models"], "external_methods": ["os.getenv", "create_engine", "sessionmaker", "BaseSettings", "Base.metadata.create_all"], "published": ["get_db", "init_db"], "classes": [{"name": "Settings", "description": "Application settings class that loads configuration variables from environment."}, {"name": "Base", "description": "Declarative base class for SQLAlchemy models."}], "methods": [{"name": "Settings get_settings()", "description": "Returns an instance of Settings, loading configuration from environment variables.", "scope": "", "scopeKind": ""}, {"name": "_engine_and_session()", "description": "Initializes and caches the SQLAlchemy engine and sessionmaker objects based on current settings.", "scope": "", "scopeKind": ""}, {"name": "Generator[Session,None,None] get_db()", "description": "Generator function that yields a database session and ensures it gets closed after use.", "scope": "", "scopeKind": ""}, {"name": "init_db()", "description": "Creates database tables if they do not already exist, importing necessary models.", "scope": "", "scopeKind": ""}], "calls": ["os.getenv", "create_engine", "sessionmaker", "Base.metadata.create_all", "get_settings", "_engine_and_session", "Base.metadata.create_all", "SessionLocal()", "db.close"], "search-terms": ["SQLAlchemy setup", "database engine", "session management", "create tables", "SQLite connection", "models import"], "state": 2, "file_id": 6, "knowledge_revision": 13, "git_revision": "", "ctags": [{"_type": "tag", "name": "APP_PORT", "path": "/home/kavia/workspace/code-generation/food-recipe-21392-19540/BackendAPIService/app/db.py", "pattern": "/^    APP_PORT: int = int(os.getenv(\"APP_PORT\", \"8000\"))$/", "language": "Python", "typeref": "typename:int", "kind": "variable", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "Base", "path": "/home/kavia/workspace/code-generation/food-recipe-21392-19540/BackendAPIService/app/db.py", "pattern": "/^class Base(DeclarativeBase):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "CORS_ORIGINS", "path": "/home/kavia/workspace/code-generation/food-recipe-21392-19540/BackendAPIService/app/db.py", "pattern": "/^    CORS_ORIGINS: str = os.getenv(\"CORS_ORIGINS\", \"*\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "DATABASE_URL", "path": "/home/kavia/workspace/code-generation/food-recipe-21392-19540/BackendAPIService/app/db.py", "pattern": "/^    DATABASE_URL: str = os.getenv(\"DATABASE_URL\", \"sqlite:\\/\\/\\/.\\/app.db\")$/", "language": "Python", "typeref": "typename:str", "kind": "variable", "scope": "Settings", "scopeKind": "class"}, {"_type": "tag", "name": "Settings", "path": "/home/kavia/workspace/code-generation/food-recipe-21392-19540/BackendAPIService/app/db.py", "pattern": "/^class Settings(BaseSettings):$/", "language": "Python", "kind": "class"}, {"_type": "tag", "name": "_SessionLocal", "path": "/home/kavia/workspace/code-generation/food-recipe-21392-19540/BackendAPIService/app/db.py", "pattern": "/^_SessionLocal = None$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_engine", "path": "/home/kavia/workspace/code-generation/food-recipe-21392-19540/BackendAPIService/app/db.py", "pattern": "/^_engine = None$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "_engine_and_session", "path": "/home/kavia/workspace/code-generation/food-recipe-21392-19540/BackendAPIService/app/db.py", "pattern": "/^def _engine_and_session():$/", "language": "Python", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_db", "path": "/home/kavia/workspace/code-generation/food-recipe-21392-19540/BackendAPIService/app/db.py", "pattern": "/^def get_db() -> Generator[Session, None, None]:$/", "language": "Python", "typeref": "typename:Generator[Session,None,None]", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "get_settings", "path": "/home/kavia/workspace/code-generation/food-recipe-21392-19540/BackendAPIService/app/db.py", "pattern": "/^def get_settings() -> Settings:$/", "language": "Python", "typeref": "typename:Settings", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "init_db", "path": "/home/kavia/workspace/code-generation/food-recipe-21392-19540/BackendAPIService/app/db.py", "pattern": "/^def init_db():$/", "language": "Python", "kind": "function", "signature": "()"}], "hash": "93f107349854f1d495b84e6e62cd3ee5", "format-version": 4, "code-base-name": "BackendAPIService", "filename": "BackendAPIService/app/db.py", "fields": [{"name": "int APP_PORT", "scope": "Settings", "scopeKind": "class", "description": "unavailable"}, {"name": "str CORS_ORIGINS", "scope": "Settings", "scopeKind": "class", "description": "unavailable"}, {"name": "str DATABASE_URL", "scope": "Settings", "scopeKind": "class", "description": "unavailable"}, {"name": "_SessionLocal = None", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "_engine = None", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"13": ""}]}